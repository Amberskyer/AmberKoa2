<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<div class="width-100 box-wrap">
    <button class="box" onclick="sendmsg(1)"> 查看项目1</button>
    <button class="box" onclick="sendmsg(2)"> 查看项目2</button>
    <button class="box" onclick="sendmsg(3)"> 查看项目3</button>
</div>
<div class="width-100 box-wrap">
    <button class="box" onclick="sendmsg(4)"> 查看项目4</button>
    <button class="box" onclick="sendmsg(5)"> 查看项目5</button>
    <button class="box" onclick="sendmsg(6)"> 查看项目6</button>
</div>

</body>

<script src="https://cdn.socket.io/socket.io-1.2.1.js" ;></script>
<script>

    // 建立连接
    var socket = io('ws://127.0.0.1:1024')
    // on表示接收
    // emit表示发送
    socket.on('connect', function () {
        console.log('连接上了')
        // 登录，同步前后端信息
        // 请求后端login接口，写入socketid
    })

    function Point(x, y) {
        this.x = x
        this.y = y
        this.r = function () {
            return Math.sqrt(
                this.x * this.x + this.y * this.y
            )
        }
    }

    let p = new Point(1, 1)
    Point.prototype.r2 = function () {
        return Math.sqrt(
            this.x*this.x+ this.y*this.y
        )
    }
    console.log("p.r()",p.r())
    console.log("p.r2()",p.r2())


    let points = [
        {x: 0, y: 0},
        {x: 1, y: 1}
    ]

    points.dist = function () {
        let p1 = this[0]
        let p2 = this[1]
        let a = p2.x - p1.x
        let b = p2.y - p1.y
        return Math.sqrt(a * a + b * b)
    }

    console.log(points.dist())


    // document.getElementById("newsItem" + data.newsId).innerText = "数据   :" + Math.random()
    // let r = Math.floor(Math.random()*255)
    // let g = Math.floor(Math.random()*255)
    // let b = Math.floor(Math.random()*255)
    // console.log( `rbg(${r},${g},${b})`)
    // var colorstr = 'rbga('+r+','+g+','+b+',1)'
    // document.getElementById("newsItem" + data.newsId).style.backgroundColor = `rgba(${r},${g},${b},1)`

    function sendmsg(newsId) {
        socket.emit('ask for new news', {newsId: newsId});
    }

</script>

<style>

    .width-100 {
        width: 100%;
    }

    .box-wrap {
        margin: 10px;
        display: flex;
        justify-content: space-around;
        align-items: center;
        flex-direction: row;
        width: 100%;
        height: auto;
    }

    .box-wrap .box {
        flex: 1;
        margin: 10px;
        background: #00B7FF;
        color: white;
        width: 50%;
        min-height: 200px;
        min-width: 300px;
        font-weight: bold;
        font-size: 18px;

        text-align: center;
        align-content: center;
    }

</style>
</html>